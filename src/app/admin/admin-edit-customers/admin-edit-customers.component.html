<loading *ngIf="!isLogin"></loading>
<form *ngIf="isLogin" [formGroup]="customerForm" (ngSubmit)="onSubmit()" class="w-full h-full font-sans Roboto">
    <div class="bg-transparent antialiased">
        <div *ngIf="selectedCustomer" class="bg-white relative shadow rounded-lg w-5/6 md:w-5/6  lg:w-4/6 xl:w-3/6 mx-auto">
            <div class="mb-2 mt-24 pt-5">
                <div class="flex flex-col items-center text-center justify-center">
                    <label for="nombre" class="font-bold text-3xl text-gray-900">
                        <input type="text" id="nombre" placeholder="Nombre"
                            class="text-center justify-center border border-gray-300 text-sm rounded-lg block w-72 my-1 p-2.5"
                            [(ngModel)]="selectedCustomer.name" formControlName="name" name="name">
                    </label>
                    <h3 *ngIf="form['name'].touched && form['name'].hasError('required')" class="text-red-600 mt-1">
                        El nombre es obligatorio
                    </h3>
                    <h3 *ngIf="form['name'].touched && form['name'].hasError('pattern')" class="text-red-600 mt-1">
                        Uso de caracteres inválidos
                    </h3>
                </div>
            </div>
            <div class="mb-2">
                <div class="flex flex-col items-center text-center justify-center">
                    <label for="email" class="font-bold text-3xl text-gray-900">
                        <input type="email" id="email" placeholder="Email"
                            class="text-center justify-center border border-gray-300 text-sm rounded-lg block w-72 my-1 p-2.5"
                            [(ngModel)]="selectedCustomer.email" formControlName="email" name="email">
                    </label>
                    <h3 *ngIf="form['email'].touched && form['email'].hasError('required')" class="text-red-600 text-center mt-1">
                        El correo electrónico es obligatorio
                    </h3>
                    <h3 *ngIf="form['email'].touched && form['email'].hasError('email')" class="text-red-600 text-center mt-1">
                        El correo está mal escrito
                    </h3>
                </div>
            </div>
            <div class="mb-2">
                <div class="flex flex-col items-center text-center justify-center">
                    <div *ngIf="selectedCustomer.trainer !== undefined">
                        <label for="trainer" class="font-bold text-3xl text-gray-900"></label>
                        <select id="trainer" formControlName="trainer_id"
                            class="text-center justify-center border border-gray-300 text-sm rounded-lg block w-72 my-1 p-2.5">
                            <option disabled>Selecciona un Entrenador</option>
                            <option *ngFor="let trainer of trainers" [value]="trainer.id">{{ trainer.name }}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="mb-2">
                <div class="flex flex-col items-center text-center justify-center">
                <div *ngIf="selectedCustomer.trainer === undefined">
                    <label for="trainer" class="font-bold text-3xl text-gray-900"></label>
                    <select id="trainer" formControlName="trainer_id"
                        class="text-center justify-center border border-gray-300 text-sm rounded-lg block w-72 my-1 p-2.5">
                        <option disabled selected>Selecciona un Entrenador</option>
                        <option *ngFor="let trainer of trainers" [value]="trainer.id">{{ trainer.name }}</option>
                    </select>
                </div>
                </div>
            </div>
            <div class="mb-2">
                <div class="flex text-center items-center flex-col justify-center">
                <div *ngIf="selectedCustomer.typeTraining !== null">
                    <label for="typeTraining" class="font-bold text-3xl text-gray-900">
                    <input type="text" id="typeTraining" placeholder="Entrenamiento"
                        class="text-center justify-center border border-gray-300 text-sm rounded-lg block w-72 my-1 p-2.5"
                        [(ngModel)]="selectedCustomer.typeTraining"
                        formControlName="typeTraining">
                    </label>
                </div>
                </div>
            </div>
            <div class="mb-2">
                <div class="flex text-center items-center flex-col justify-center">
            <div *ngIf="selectedCustomer.typeTraining === null" class="">
                <label for="typeTraining" class="font-bold text-3xl text-gray-900">
                    <input type="text" id="typeTraining" placeholder="Entrenamiento no asignado"
                    class="text-center justify-center border border-gray-300 text-sm rounded-lg block w-72 my-1 p-2.5"
                         [(ngModel)]="selectedCustomer.typeTraining"
                        formControlName="typeTraining">
                </label>
                </div>
                </div>
            </div>
            <h3 *ngIf="showInvalidSubmit" class="text-red-600 mt-1 text-center">
                Rellena correctamente el formulario (*)
            </h3>
            <div class="items-center text-center pt-5 pb-5">
                <button type="submit" (blur)="showInvalidSubmit = false">
                    <span class="bg-red-600 hover:bg-red-700 text-white font-bold mr-3 ml-3 py-2 px-4 rounded-full">
                        Editar Cliente
                    </span>
                </button>
                <button type="button" (click)="goBack()">
                    <span class="bg-red-600 hover:bg-red-700 text-white font-bold mr-3 ml-3 py-2 px-4 rounded-full">
                        Cancelar
                    </span>
                </button>
            </div>
        </div>
    </div>
</form>
